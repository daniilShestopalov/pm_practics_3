# Use Case Group 1: Создание и запись путешествия

## Use Case 1: «Создать новую поездку»

### Use Case Description

**Участники (Actors):** Пользователь  
**Цель:** Инициировать новый дневник путешествия, задав его основную структуру и метаданные  

**Предусловия (Preconditions):**
- Пользователь авторизован в приложении
- Приложение имеет доступ к сети

**Основной поток (Main Success Scenario):**
1. Пользователь нажимает кнопку «+» или «Новая поездка» на главном экране
2. Система открывает форму создания поездки
3. Пользователь вводит название поездки
4. Пользователь выбирает даты начала и окончания поездки
5. Пользователь указывает основную страну и/или город назначения
6. Пользователь добавляет обложку
7. Пользователь нажимает «Сохранить»
8. Система создает и отображает каркас новой поездки в списке путешествий пользователя

**Альтернативные потоки (Alternate Flows):**
- **A. Пользователь решает заполнить информацию позже:** Пользователь может пропустить любой шаг, кроме названия. Система создает поездку с названием "Без названия" и текущей датой
- **B. Пользователь отменяет создание:** На любом шаге пользователь может нажать «Отмена». Система запрашивает подтверждение и, после согласия, удаляет все введенные данные и возвращает пользователя на главный экран

---

## Use Case 2: «Добавить точку маршрута»

### Use Case Description

**Участники (Actors):** Пользователь  
**Цель:** Детально зафиксировать впечатления о конкретном посещенном месте, привязав их к карте  

**Предусловия (Preconditions):**
- В приложении создана как минимум одна активная поездка
- Приложение имеет доступ к данным о местоположении (GPS) или сети Интернет (для поиска по карте)

**Основной поток (Main Success Scenario):**
1. Пользователь открывает существующую поездку
2. Пользователь нажимает кнопку «Добавить точку»
3. Система предлагает выбрать место на карте
4. Пользователь находит и выбирает место
5. Система автоматически заполняет название и координаты точки
6. Пользователь выбирает тип места из списка
7. Пользователь добавляет фотографии с камеры или из галереи
8. Пользователь пишет текстовые заметки о своих впечатлениях
9. Пользователь выставляет оценку
10. Пользователь нажимает «Сохранить»
11. Система добавляет точку в дневник и на карту маршрута

**Альтернативные потоки (Alternate Flows):**
- **A. Место не найдено в поиске:** Пользователь может вручную отметить точку на карте и ввести ее название вручную
- **B. Пользователь хочет добавить только фото:** Пользователь может добавить только фотографии, не заполняя текстовое описание. Система сохраняет точку с фото и геолокацией

---

## Use Case 3: «Записать дорожные впечатления»

### Use Case Description

**Участники (Actors):** Пользователь  
**Цель:** Быстро зафиксировать мысли и эмоции во время перемещения без привязки к конкретному месту  

**Предусловия (Preconditions):**
- В приложении создана как минимум одна активная поездка
- Для голосовой записи: приложение имеет доступ к микрофону

**Основной поток (Main Success Scenario):**
1. Пользователь открывает поездку
2. Пользователь нажимает кнопку «Быстрая запись»
3. Система открывает экран с кнопкой записи голоса и полем для текста
4. Пользователь нажимает и удерживает кнопку для записи голосового сообщения ИЛИ начинает печатать текст
5. Система автоматически добавляет временную метку и, если доступно, грубые координаты перемещения
6. Пользователь нажимает «Сохранить»
7. Система добавляет запись в ленту дневника как отдельный элемент с пометкой "В пути"

**Альтернативные потоки (Alternate Flows):**
- **A. Голосовая запись:** Пользователь записывает голосовое сообщение. Система сохраняет его как аудиофайл и, опционально, предлагает преобразовать в текст (через Speech-to-Text)
- **B. Отмена записи:** Пользователь отменяет действие, и система не сохраняет запись

---

## Use Case 4: «Импортировать и отметить фотографии»

### Use Case Description

**Участники (Actors):** Пользователь  
**Цель:** Упростить процесс иллюстрирования дневника, автоматически привязывая фотографии из галереи к точкам маршрута  

**Предусловия (Preconditions):**
- В приложении создана как минимум одна активная поездка
- Приложение имеет разрешение на доступ к медиатеке (галерее) устройства
- На устройстве есть фотографии, сделанные в период дат выбранной поездки

**Основной поток (Main Success Scenario):**
1. Пользователь в открытой поездке нажимает «Импорт фото»
2. Система запрашивает разрешение на доступ к медиатеке
3. Получив доступ, система показывает фотографии, сделанные в даты поездки, сгруппированные по дням и локациям
4. Пользователь просматривает предложенные фото и выбирает те, которые хочет добавить
5. Для фото с геотегами система автоматически предлагает привязать их к существующей точке маршрута или создать новую
6. Пользователь подтверждает выбор и привязку
7. Система загружает выбранные фотографии в дневник, привязывая их к соответствующим точкам или дням

**Альтернативные потоки (Alternate Flows):**
- **A. Фото без геотегов:** Пользователь может вручную перетащить такие фото на нужную точку на карте или в списке маршрута
- **B. Массовый импорт:** Пользователь выбирает целый день для импорта, и система создает "фотоподборку" за этот день, не привязывая к конкретным точкам
